/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/base/Log","sap/base/assert"],function(e,r,n){"use strict";var t={};var o="fragment";var s="view";var a={js:[s,o,"controller","designtime"],xml:[s,o],json:[s,o],html:[s,o]};var u;(function(){var e="";for(var r in a){e=(e?e+"|":"")+r}e="\\.("+e+")$";u=new RegExp(e)})();t.getKnownSubtypes=function(){return a};t.getAllRequiredModules=function(){var e=[],r=sap.ui.loader._.getAllModules(true),n;for(var t in r){n=r[t];if(n.ui5&&n.state!==-1){e.push(n.ui5)}}return e};t.loadResource=function(t,o){var s,a,i,l,f,c;if(typeof t==="string"){o=o||{}}else{o=t||{};t=o.name}o=e.extend({failOnError:true,async:false},o);s=o.dataType;if(s==null&&t){s=(s=u.exec(t||o.url))&&s[1]}n(/^(xml|html|json|text)$/.test(s),"type must be one of xml, html, json or text");f=o.async?new e.Deferred:null;function d(e,n){if(e==null&&o.failOnError){l=n||new Error("no data returned for "+t);if(o.async){f.reject(l);r.error(l)}return null}if(o.async){f.resolve(e)}return e}function y(r){var n=e.ajaxSettings.converters["text "+s];if(typeof n==="function"){r=n(r)}return d(r)}a=sap.ui.loader._.getModuleContent(t,o.url);if(a!=undefined){if(o.async){setTimeout(function(){y(a)},0)}else{a=y(a)}}else{c=sap.ui.loader._.getSyncCallBehavior();if(!o.async&&c){if(c>=1){r.error("[nosync] loading resource '"+(t||o.url)+"' with sync XHR")}else{throw new Error("[nosync] loading resource '"+(t||o.url)+"' with sync XHR")}}e.ajax({url:i=o.url||sap.ui.loader._.getResourcePath(t),async:o.async,dataType:s,headers:o.headers,success:function(e,r,n){a=d(e)},error:function(e,r,n){l=new Error("resource "+t+" could not be loaded from "+i+". Check for 'file not found' or parse errors. Reason: "+n);l.status=r;l.error=n;l.statusCode=e.status;a=d(null,l)}})}if(o.async){return Promise.resolve(f)}if(l!=null&&o.failOnError){throw l}return a};return t});