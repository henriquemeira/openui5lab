/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/mvc/View","sap/ui/core/Component","sap/ui/core/routing/HashChanger"],function(e,t,n){"use strict";return{_getObjectWithGlobalId:function(n,i,r,a){var o=this,s,u,h,c=[];a=a||{};function f(){switch(i){case"View":n.viewName=n.name;delete n.name;if(r){return sap.ui.view(n)}else{return e.create(n)}break;case"Component":var s=o._createRouterHashChanger(a.prefix);if(s){n.settings=n.settings||{};n.settings._routerHashChanger=s}return t.create(n);default:}}function d(e){if(o._oCache){c.forEach(function(t){h[t]=e});if(a.afterCreate){a.afterCreate(e)}o.fireCreated({object:e,type:i,options:n})}return e}if(n.async===undefined){n.async=true}u=n.name;this._checkName(u,i);h=this._oCache[i.toLowerCase()][u];s=h&&h[n.id];if(s){return s}if(this._oComponent){s=this._oComponent.runAsOwner(f)}else{s=f()}if(s instanceof Promise){s=s.then(d)}else{s.loaded().then(d)}if(!h){h=this._oCache[i.toLowerCase()][u]={};h[undefined]=s;c.push(undefined)}if(n.id!==undefined){h[n.id]=s;c.push(n.id)}return s},_getViewWithGlobalId:function(e){if(e&&!e.name){e.name=e.viewName}return this._getObjectWithGlobalId(e,"View",true)},_getComponentWithGlobalId:function(e,t){return this._getObjectWithGlobalId(e,"Component",false,t)},_createRouterHashChanger:function(e){var t;var i=this._oComponent&&this._oComponent.getRouter();if(i){t=i.getHashChanger();if(t&&e){t=t.createSubHashChanger(e)}}return t||n.getInstance().createRouterHashChanger()}}});