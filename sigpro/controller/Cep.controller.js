sap.ui.define(["co/h2a/sigpro/ui/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,o,t){"use strict";return e.extend("co.h2a.sigpro.ui.controller.Cep",{onInit:function(){this._oCepModel=new o("https://viacep.com.br/ws/01001000/json/");this.getView().setModel(this._oCepModel,"cepModel");this._oCepViewModel=new o({searchTerm:"",busy:false});this.getView().setModel(this._oCepViewModel,"cepViewModel")},onCepSearch:function(e){var o=this.getView().getModel("cepViewModel").getProperty("/searchTerm");var s=`https://viacep.com.br/ws/${o}/json/`;this.getView().getModel("cepViewModel").setProperty("/busy",true);function i(e){this.getView().getModel("cepViewModel").setProperty("/busy",false);if(!e.getParameters().success||this._oCepModel.getProperty("/erro")){this._oCepModel.setProperty("/",{});t.show("CEP não encontrado ou inválido")}}this._oCepModel.attachRequestCompleted(i,this);this._oCepModel.loadData(s)}})});