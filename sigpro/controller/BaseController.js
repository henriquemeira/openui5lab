sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/m/library","sap/ui/core/routing/History"],function(e,r,t,o){"use strict";var n=t.URLHelper;return e.extend("co.h2a.sigpro.ui.controller.BaseController",{getRouter:function(){return r.getRouterFor(this)},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,r){return this.getView().setModel(e,r)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},onNavBack:function(){var e=o.getInstance().getPreviousHash();if(e!==undefined){history.go(-1)}else{this.getRouter().navTo("home",{},true)}},onShareEmailPress:function(){var e=this.getModel("objectView")||this.getModel("worklistView");n.triggerEmail(null,e.getProperty("/shareSendEmailSubject"),e.getProperty("/shareSendEmailMessage"))},saveLog:function(e,r){e=e.toUpperCase();var t=jQuery(window.location).attr("href").toString();var o=e+": "+r+". User accessed route "+t+", timestamp = "+jQuery.now();switch(e){case"E":jQuery.sap.log.error(o);break;case"I":jQuery.sap.log.info(o);break;case"S":jQuery.sap.log.info(o);break;case"W":jQuery.sap.log.warning(o);break;default:jQuery.sap.log.info(o);break}},checkSession:function(){if(!this.getUserLogged()){var e=this;MessageBox.error(this.getResourceBundle().getText("Error.userNotConnected"),{onClose:function(r){e.getRouter().navTo("index")}})}}})});